{
	"info": {
		"_postman_id": "marketplace-collection-001",
		"name": "Lensor - Marketplace & Products",
		"description": "API collection for Marketplace and Product management with sellCount and presetFiles support",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Marketplace",
			"item": [
				{
					"name": "Get All Products (Marketplace)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/marketplaces",
							"host": ["{{baseUrl}}"],
							"path": ["marketplaces"]
						},
						"description": "Get all products in marketplace (public endpoint). Returns products with sellCount, rating, and reviews."
					},
					"response": []
				},
				{
					"name": "Get Product Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/products/{{productId}}",
							"host": ["{{baseUrl}}"],
							"path": ["products", "{{productId}}"]
						},
						"description": "Get detailed information about a specific product including presetFiles, imagePairs, and reviews."
					},
					"response": []
				}
			],
			"description": "Public marketplace endpoints for browsing products"
		},
		{
			"name": "Products",
			"item": [
				{
					"name": "Create Product (With Files)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "title",
									"value": "Professional Lightroom Preset Bundle",
									"type": "text"
								},
								{
									"key": "description",
									"value": "Complete preset collection for portrait, landscape, and wedding photography. Includes 50+ presets with before/after examples.",
									"type": "text"
								},
								{
									"key": "price",
									"value": "299000",
									"type": "text"
								},
								{
									"key": "originalPrice",
									"value": "499000",
									"type": "text"
								},
								{
									"key": "discount",
									"value": "40",
									"type": "text"
								},
								{
									"key": "category",
									"value": "Presets",
									"type": "text"
								},
								{
									"key": "tags",
									"value": "[\"lightroom\", \"preset\", \"photography\", \"portrait\", \"wedding\"]",
									"type": "text"
								},
								{
									"key": "compatibility",
									"value": "[\"Lightroom CC\", \"Lightroom Classic\", \"Mobile App\"]",
									"type": "text"
								},
								{
									"key": "fileFormat",
									"value": ".xmp, .lrtemplate",
									"type": "text"
								},
								{
									"key": "fileSize",
									"value": "15 MB",
									"type": "text"
								},
								{
									"key": "includesCount",
									"value": "52",
									"type": "text"
								},
								{
									"key": "features",
									"value": "[\"One-click application\", \"Adjustable intensity\", \"Compatible with RAW and JPEG\", \"Free lifetime updates\", \"Video tutorial included\"]",
									"type": "text"
								},
								{
									"key": "specifications",
									"value": "{\"adjustments\": [\"Exposure\", \"Contrast\", \"Highlights\", \"Shadows\", \"Whites\", \"Blacks\", \"Clarity\", \"Vibrance\", \"Saturation\"], \"bestFor\": [\"Portrait\", \"Wedding\", \"Landscape\", \"Street Photography\"], \"difficulty\": \"Beginner to Advanced\"}",
									"type": "text"
								},
								{
									"key": "warranty",
									"value": "{\"duration\": \"Lifetime\", \"coverage\": \"Free updates and bug fixes\", \"terms\": [\"30-day money back guarantee\", \"Email support included\", \"Compatible with future Lightroom versions\"]}",
									"type": "text"
								},
								{
									"key": "image",
									"type": "file",
									"src": "/path/to/product-cover.jpg",
									"disabled": true
								},
								{
									"key": "imagePairs[0][before]",
									"type": "file",
									"src": "/path/to/before1.jpg",
									"disabled": true
								},
								{
									"key": "imagePairs[0][after]",
									"type": "file",
									"src": "/path/to/after1.jpg",
									"disabled": true
								},
								{
									"key": "imagePairs[1][before]",
									"type": "file",
									"src": "/path/to/before2.jpg",
									"disabled": true
								},
								{
									"key": "imagePairs[1][after]",
									"type": "file",
									"src": "/path/to/after2.jpg",
									"disabled": true
								},
								{
									"key": "presetFiles[0]",
									"type": "file",
									"src": "/path/to/moody-portrait.xmp",
									"disabled": true,
									"description": "Preset file 1 (.xmp format)"
								},
								{
									"key": "presetFiles[1]",
									"type": "file",
									"src": "/path/to/warm-sunset.xmp",
									"disabled": true,
									"description": "Preset file 2 (.xmp format)"
								},
								{
									"key": "presetFiles[2]",
									"type": "file",
									"src": "/path/to/cinematic-teal.lrtemplate",
									"disabled": true,
									"description": "Preset file 3 (.lrtemplate format)"
								},
								{
									"key": "presetFiles[3]",
									"type": "file",
									"src": "/path/to/film-profile.dcp",
									"disabled": true,
									"description": "Preset file 4 (.dcp format)"
								},
								{
									"key": "presetFiles",
									"type": "file",
									"src": "/path/to/preset2.xmp",
									"disabled": true,
									"description": "Lightroom preset file"
								},
								{
									"key": "presetFiles",
									"type": "file",
									"src": "/path/to/preset3.lrtemplate",
									"disabled": true,
									"description": "Lightroom Classic template"
								},
								{
									"key": "presetFiles",
									"type": "file",
									"src": "/path/to/camera-profile.dcp",
									"disabled": true,
									"description": "DNG Camera Profile"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/products",
							"host": ["{{baseUrl}}"],
							"path": ["products"]
						},
						"description": "Create a new product with multipart form data. Upload product image, before/after image pairs, and preset files. **Features:**\n- Main image: Product cover photo\n- imagePairs: Before/after comparison images\n- presetFiles: Actual preset files (.xmp, .lrtemplate, .dcp) that buyers will download\n- imageMetadata: Automatically extracted EXIF data (camera, lens, exposure settings, GPS, 50+ fields)"
					},
					"response": []
				},
				{
					"name": "Create Product (JSON Only)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Moody Film Preset Pack\",\n  \"description\": \"Create stunning moody and cinematic photos with this preset collection. Perfect for lifestyle, travel, and fashion photography.\",\n  \"price\": 199000,\n  \"originalPrice\": 299000,\n  \"discount\": 33,\n  \"category\": \"Presets\",\n  \"tags\": [\"moody\", \"cinematic\", \"film\", \"lifestyle\", \"travel\"],\n  \"compatibility\": [\"Lightroom CC\", \"Lightroom Classic\"],\n  \"fileFormat\": \".xmp\",\n  \"fileSize\": \"8 MB\",\n  \"includesCount\": 25,\n  \"features\": [\n    \"25 unique presets\",\n    \"Warm and cool tones\",\n    \"Film grain effect\",\n    \"Mobile compatible\",\n    \"Installation guide\"\n  ],\n  \"specifications\": {\n    \"adjustments\": [\"Tone Curve\", \"HSL\", \"Split Toning\", \"Grain\"],\n    \"bestFor\": [\"Travel\", \"Lifestyle\", \"Fashion\"],\n    \"difficulty\": \"Beginner\"\n  },\n  \"warranty\": {\n    \"duration\": \"Lifetime\",\n    \"coverage\": \"Free updates\",\n    \"terms\": [\"14-day money back\", \"Email support\"]\n  }\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/products",
							"host": ["{{baseUrl}}"],
							"path": ["products"]
						},
						"description": "Create product with JSON data only (no file uploads). Use this when product images are already hosted or will be added later."
					},
					"response": []
				},
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/products",
							"host": ["{{baseUrl}}"],
							"path": ["products"]
						},
						"description": "Get all products (public endpoint). Same as marketplace endpoint."
					},
					"response": []
				},
				{
					"name": "Get Product by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/products/{{productId}}",
							"host": ["{{baseUrl}}"],
							"path": ["products", "{{productId}}"]
						},
						"description": "Get product details including sellCount, presetFiles array, and full specifications."
					},
					"response": []
				},
				{
					"name": "Update Product",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"price\": 249000,\n  \"discount\": 50,\n  \"features\": [\n    \"One-click application\",\n    \"Adjustable intensity\",\n    \"Compatible with RAW and JPEG\",\n    \"Free lifetime updates\",\n    \"Video tutorial included\",\n    \"BONUS: 10 extra mobile presets\"\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/products/{{productId}}",
							"host": ["{{baseUrl}}"],
							"path": ["products", "{{productId}}"]
						},
						"description": "Update product information. Only the product owner can update. Supports partial updates."
					},
					"response": []
				},
				{
					"name": "Delete Product",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/products/{{productId}}",
							"host": ["{{baseUrl}}"],
							"path": ["products", "{{productId}}"]
						},
						"description": "Soft delete a product (sets deletedAt timestamp). Only the product owner can delete."
					},
					"response": []
				},
				{
					"name": "Upload Product Image",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "/path/to/image.jpg"
								}
							]
						},
						"url": {
							"raw": "{{baseUrl}}/products/upload-image",
							"host": ["{{baseUrl}}"],
							"path": ["products", "upload-image"]
						},
						"description": "Upload a product image separately. Returns image and thumbnail URLs that can be used in product creation/update. Images are processed by Python image service for EXIF extraction and thumbnail generation."
					},
					"response": []
				}
			],
			"description": "Product management endpoints (CRUD operations)"
		},
		{
			"name": "Reviews",
			"item": [
				{
					"name": "Create Product Review",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}",
								"type": "text"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"rating\": 5,\n  \"comment\": \"Amazing preset pack! The quality is outstanding and the presets are very versatile. Perfect for portrait photography. Highly recommend!\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/products/{{productId}}/reviews",
							"host": ["{{baseUrl}}"],
							"path": ["products", "{{productId}}", "reviews"]
						},
						"description": "Create a review for a product. Rating must be between 1-5. User must be authenticated. This updates the product's average rating and reviewCount."
					},
					"response": []
				}
			],
			"description": "Product review endpoints"
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3005",
			"type": "string"
		},
		{
			"key": "token",
			"value": "your-jwt-token-here",
			"type": "string"
		},
		{
			"key": "productId",
			"value": "product-uuid-here",
			"type": "string"
		}
	]
}
